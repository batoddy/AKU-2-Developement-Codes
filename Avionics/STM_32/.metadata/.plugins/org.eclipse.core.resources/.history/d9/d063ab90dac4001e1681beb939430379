/*
 * aku_infrastructure.c
 *
 *  Created on: Feb 1, 2024
 *      Author: Batuhan
 */
#include "aku_config.h"
#include "aku_infrastructure.h"
#include "main.h"

uint32_t tick;

void timer_init(){
	HAL_TIM_Base_Start(DELAY_TIMER);
}

void aku_delay(uint32_t delay){
	__HAL_TIM_SET_COUNTER(DELAY_TIMER,0);
	while(__HAL_TIM_GET_COUNTER(DELAY_TIMER) < (delay*10));
}

uint16_t aku_chronometer(){
	uint16_t timer = HAL_GetTick() - tick;
	tick = HAL_GetTick();
	return timer;
}
